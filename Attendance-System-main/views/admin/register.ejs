<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/WebPage">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="apple-touch-icon" sizes="76x76" href="img/apple-icon.png">
    <link rel="icon" type="image/png" href="img/favicon.png">
    <title>
        Attendance Management
    </title>
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Inter:300,400,500,600,700,900" />
    <!-- Nucleo Icons -->
    <link href="/css/nucleo-icons.css" rel="stylesheet" />
    <link href="/css/nucleo-svg.css" rel="stylesheet" />
    <!-- Font Awesome Icons -->
    <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>
    <!-- Material Icons -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <!-- CSS Files -->
    <link id="pagestyle" href="/css/style.css" rel="stylesheet" />
</head>

<body class="sign-in-basic">
    <!-- End Navbar -->
    <div class="page-header align-items-start min-vh-100"
        style="background-image: linear-gradient( 105.9deg,  rgba(0,122,184,1) 24.4%, rgba(46,0,184,0.88) 80.5% );"
        loading="lazy">
        <span class="mask bg-gradient-dark opacity-6"></span>
        <div class="container my-auto">
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="card py-4">
                        <h3 class="text-center">Register</h3>
                        <form role="form" id="register-form" method="post" autocomplete="off">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="input-group input-group-dynamic mb-4">
                                            <label class="form-label">First Name</label>
                                            <input class="form-control" name="firstName" aria-label="First Name..." type="text">
                                        </div>
                                    </div>
                                    <div class="col-md-6 ps-2">
                                        <div class="input-group input-group-dynamic">
                                            <label class="form-label">Last Name</label>
                                            <input class="form-control" name="lastName" aria-label="Last Name..." type="text">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-6 ps-2">
                                        <div class="input-group input-group-dynamic">
                                            <label class="form-label">Phone Number</label>
                                            <input class="form-control" name="phone" aria-label="Phone Number..." type="text">
                                        </div>
                                    </div>
                                    <div class="col-md-6 ps-2">
                                        <div class="input-group input-group-dynamic">
                                            <label class="form-label">Email Address</label>
                                            <input class="form-control" name="email" aria-label="Email Address..." type="email">
                                        </div>
                                    </div>
                                </div>


                                <div class="row">
                                    <!-- <div class="col-md-12">
                                        <div class="form-check form-switch mb-4 d-flex align-items-center">
                                            <input class="form-check-input" type="checkbox" id="flexSwitchCheckDefault"
                                                checked="">
                                            <label class="form-check-label ms-3 mb-0" for="flexSwitchCheckDefault">I
                                                agree to the <a href="javascript:;" class="text-dark"><u>Terms and
                                                        Conditions</u></a>.</label>
                                        </div>
                                    </div> -->
                                    <div class="col-md-12 mt-4">
                                        <button type="submit" class="btn bg-gradient-dark w-100">Register</button>
                                    </div>
                                </div>
                            </div>
                        </form>\
                    </div>
                    </section>


                </div>
            </div>
            <footer class="footer position-absolute bottom-2 py-2 w-100">
                <div class="container">
                    <div class="row align-items-center justify-content-lg-between">
                        <div class="col-12 col-md-6 my-auto">
                            <div class="copyright text-center text-sm text-white text-lg-start">
                                Â©
                                <script>
                                    document.write(new Date().getFullYear())
                                </script>,
                                made with <i class="fa fa-heart" aria-hidden="true"></i> by
                                <a href="https://www.opexconsult.com" class="font-weight-bold text-white"
                                    target="_blank">OPEX Consulting</a>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>

        <!-- API Integration -->
        <script>
            document.getElementById("register-form").addEventListener("submit", async function (e) {
                e.preventDefault();
                const form = e.target;
                const formData = {
                    firstName: form.firstName.value,
                    lastName: form.lastName.value,
                    phone: form.phone.value,
                    email: form.email.value,
                    password: form.password.value
                };
                try {
                    const res = await fetch("http://localhost:3001/api/admin/register", {
                        method: "POST",
                        headers: {
                            "Content-Type": "application/json"
                        },
                        body: JSON.stringify(formData)
                    });

                    const data = await res.json();

                    if (res.ok) {
                        alert("Super Admin registered successfully!");
                        window.location.href = "/admin/login"; // or another success page
                    } else {
                        alert(`Error: ${data.message}`);
                    }
                } catch (err) {
                    console.error(err);
                    alert("An error occurred.");
                }
            });
        </script>


        <!--   Core JS Files   -->
        <script src="/js/core/popper.min.js" type="text/javascript"></script>
        <script src="/js/core/bootstrap.min.js" type="text/javascript"></script>
        <script src="/js/plugins/perfect-scrollbar.min.js"></script>
        <!-- Control Center for Material UI Kit: parallax effects, scripts for the example pages etc -->

        <script src="/js/custom.min.js" type="text/javascript"></script>
</body>

</html>